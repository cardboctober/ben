(function(){"use strict";var Cube=function Cube(s){this.data=[[[-1,-1,-1,1],[1,-1,-1,1]],[[-1,-1,-1,1],[-1,1,-1,1]],[[-1,-1,-1,1],[-1,-1,1,1]],[[-1,1,1,1],[1,1,1,1]],[[-1,1,1,1],[-1,-1,1,1]],[[-1,1,1,1],[-1,1,-1,1]],[[1,1,-1,1],[-1,1,-1,1]],[[1,1,-1,1],[1,-1,-1,1]],[[1,1,-1,1],[1,1,1,1]],[[1,-1,1,1],[-1,-1,1,1]],[[1,-1,1,1],[1,1,1,1]],[[1,-1,1,1],[1,-1,-1,1]]].map(function(l){return l.map($V)})};var Renderer=function Renderer(){var this$1=this;this.canvas=document.createElement("canvas");document.body.appendChild(this.canvas);this.fit();window.addEventListener("resize",function(e){return this$1.fit()},false);this.ctx=this.canvas.getContext("2d")};Renderer.prototype.fit=function fit(){this.canvas.width=this.w=window.innerWidth;this.canvas.height=this.h=window.innerHeight;if(this.rendered){this.render(this.rendered)}};Renderer.prototype.render=function render(obj){var ctx=this.ctx;function h(m){return $M(m.elements.map(function(r){return r.concat([0])}).concat([[0,0,0,1]]))}var t=$M([[1,0,0,this.w/2],[0,1,0,this.h/2],[0,0,1,0],[0,0,0,1]]).multiply(Matrix.Diagonal([80,80,80,1])).multiply(h(Matrix.RotationX(Math.random()))).multiply(h(Matrix.RotationY(Math.random())));ctx.beginPath();for(var i=0;i<obj.data.length;i++){var l=obj.data[i];var a=t.x(l[0]);var b=t.x(l[1]);ctx.moveTo(a.e(1),a.e(2));ctx.lineTo(b.e(1),b.e(2))}ctx.stroke();this.rendered=obj};var cube=new Cube(1);var renderer=new Renderer;renderer.render(cube);console.log(cube.data)})();
